{% extends "profile/base.html" %}
{% load static %}

{% block main %}
    <section class="py-5">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <div class="col-sm-9 col-md-11 col-lg-10">
                    <div class="user-panel custom-bg mb-5">
                        {% for message in messages %}
                            <div class="alert-success rounded"
                                 style="padding: 5px">
                                {{ message }}
                            </div>
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            <div class="alert-danger rounded"
                                 style="padding: 5px">
                                {{ error }}
                            </div>
                        {% endfor %}
                        {% if form.email.errors %}
                            <div class="alert-danger rounded"
                                 style="padding: 5px">
                                {{ form.email.errors }}
                            </div>
                        {% endif %}
                        <form class="user-panel-box" enctype="multipart/form-data" method="post">
                            {% csrf_token %}

                            <div class="user-panel-profile">
                                {% if request.user.image %}
                                    <img src="{{ request.user.image.url }}" alt="" class="profile-image"
                                         onclick="changeProfile()">
                                {% else %}
                                    <img src="{% static "account/images/static-user.jpg" %}" alt=""
                                         class="profile_image"
                                         onclick="changeProfile()">
                                {% endif %}
                            </div>
                            <div class="change-profile-btn">
                                <button class="change-profile-btn" hidden>{{ form.image }}</button>
                                <div class="change-profile-btn">
                                    <a class="btn custom-btn" href="">Change Password</a>
                                </div>
                            </div>
                            <!-- item -->
                            <div class="user-panel-field">
                                <i class="fa fa-user"></i>
                                {{ form.full_name }}
                            </div>
                            <!-- item -->
                            <div class="user-panel-field">
                                <i class="fa fa-envelope"></i>
                                {{ form.email }}
                            </div>
                            <!-- item -->
                            <div class="user-panel-field" hidden
                                 style="display: inline">
                                <i class="fa fa-phone"></i>
                                {{ form.phone }}
                            </div>
                            <div class="user-panel-field"
                                 style="height: 44px">
                                <i class="fa fa-envelope"></i>
                                {{ request.user.phone }}
                            </div>
                            <div class="col-lg-6"></div>
                            <!-- item -->
                            <div class="col-lg-6 mt-3">
                                <i class=""></i>
                                {{ form.address }}
                            </div>
                            <!-- item -->
                            <div class="col-lg-6 mt-3">
                                <i class=""></i>
                                {{ form.bio }}
                            </div>

                            <div class="col-lg-12 d-flex justify-content-center mt-3 ">
                                <button type="submit" class="btn custom-btn w-25">Submit</button>
                                <a href="{% url "home:main" %}" class="btn btn-danger mr-2"
                                        style="width: 10%; border-radius: 10px">Cancel
                                </a>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}


